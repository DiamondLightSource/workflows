apiVersion: argoproj.io/v1alpha1
kind: ClusterWorkflowTemplate
metadata:
  name: subscription-benchmarking
spec:
  entrypoint: workflow-entry
  templates:
  - name: operation-step
    script:
      image: python:3.10
      command: ["python"]
      source: |
        import time
        print("Operation progress 0%")
        time.sleep(900)
        print("Operation progress 25%")
        time.sleep(900)
        print("Operation progress 50%")
        time.sleep(900)
        print("Operation progress 75%")
        time.sleep(900)
        print("Operation progress 100%")
  - name: workflow-entry
    dag:
      tasks:
      - name: operation-01
        template: operation-step
      - name: operation-02
        template: operation-step
        dependencies: [operation-01]
      - name: operation-03
        template: operation-step
        dependencies: [operation-02]
      - name: operation-04
        template: operation-step
        dependencies: [operation-03]
      - name: operation-05
        template: operation-step
        dependencies: [operation-04]
      - name: operation-06
        template: operation-step
        dependencies: [operation-05]
      - name: operation-07
        template: operation-step
        dependencies: [operation-06]
      - name: operation-08
        template: operation-step
        dependencies: [operation-07]
      - name: operation-09
        template: operation-step
        dependencies: [operation-08]
      - name: operation-10
        template: operation-step
        dependencies: [operation-09]

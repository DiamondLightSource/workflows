configuration:
  keycloakUrl: https://authn.diamond.ac.uk
  keycloakRealm: master
  keycloakClient: workflows-dashboard
  graphUrl: https://workflows.diamond.ac.uk/graphql
  graphWsUrl: wss://workflows.diamond.ac.uk/graphql/ws
  sourceDir: "/usr/share/nginx/html"

image:
  registry: ghcr.io
  repository: diamondlightsource/workflows-dashboard
  tag: ""
  digest: ""
  pullPolicy: IfNotPresent
  pullSecrets: []

deployment:
  replicas: 1
  annotations: []
  podAnnotations: []
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  nodeSelector: {}
  affinity: {}
  tolerations: []

service:
  create: true
  annotations: []
  type: ClusterIP
  port: 80

ingress:
  create: true
  className: nginx
  hosts:
    - host: workflows.diamond.ac.uk
      paths:
        - path: /
          pathType: Prefix
          service:
            name: dashboard
            port: 80
        - path: /api
          pathType: Prefix
          service:
            name: oidc-bff
            port: 80
        - path: /auth
          pathType: Prefix
          service:
            name: oidc-bff
            port: 80
  tls: false
  annotations:
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/hsts: "true"
    nginx.ingress.kubernetes.io/hsts-max-age: "86400"

serviceAccount:
  create: true
  name: ""
  annotations: []

oidcBff:
  image:
    registry: ghcr.io
    repository: diamondlightsource/workflows-oidc-bff
    tag: "davehadley"
    digest: "sha256:e259494171d5115d060dd9f3d9da971312d39e9afabd91478c0b7a49c7c5f6d3"
    pullPolicy: IfNotPresent
    pullSecrets: []
  configuration:
    secretName: oidc-bff-config